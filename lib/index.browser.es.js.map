{"version":3,"file":"index.browser.es.js","sources":["../src/index.ts"],"sourcesContent":["// \"pouchdb\"\n// \"pouchdb-abstract-mapreduce\"\n// \"pouchdb-adapter-http\"\n// \"pouchdb-adapter-idb\"\n// \"pouchdb-adapter-leveldb\"\n// \"pouchdb-adapter-leveldb-core\"\n// \"pouchdb-adapter-memory\"\n// \"pouchdb-adapter-node-websql\"\n// \"pouchdb-adapter-utils\"\n// \"pouchdb-adapter-websql\"\n// \"pouchdb-adapter-websql-core\"\n// \"pouchdb-authentication\"\n// \"pouchdb-binary-utils\"\n// \"pouchdb-changes-filter\"\n// \"pouchdb-checkpointer\"\n// \"pouchdb-collate\"\n// \"pouchdb-collections\"\n// \"pouchdb-core\"\n// \"pouchdb-debug\"\n// \"pouchdb-errors\"\n// \"pouchdb-fetch\"\n// \"pouchdb-find\"\n// \"pouchdb-generate-replication-id\"\n// \"pouchdb-json\"\n// \"pouchdb-mapreduce\"\n// \"pouchdb-mapreduce-utils\"\n// \"pouchdb-md5\"\n// \"pouchdb-merge\"\n// \"pouchdb-node\"\n// \"pouchdb-replication\"\n// \"pouchdb-selector-core\"\n// \"pouchdb-upsert\"\n// \"pouchdb-utils\"\nimport      PouchDB         from 'pouchdb'                     ;\nimport * as PDBReplication  from 'pouchdb-replication'         ;\nimport * as PDBAuth         from 'pouchdb-authentication'      ;\nimport * as pdbFind         from 'pouchdb-find'                ;\nimport * as pdbUpsert       from 'pouchdb-upsert'              ;\nimport * as PDBHttp         from 'pouchdb-adapter-http'        ;\nimport * as PDBIDB          from 'pouchdb-adapter-idb'         ;\nimport * as websqlPouch     from 'pouchdb-adapter-websql'      ;\nimport * as nodeWebsqlPouch from 'pouchdb-adapter-node-websql' ;\nimport * as pdbLevelDB      from 'pouchdb-adapter-leveldb'     ;\nimport * as pdbDebug        from 'pouchdb-debug'               ;\n\ndeclare const window:any;\n\n// const PDB1 = window && window.PouchDB ? window.PouchDB : PouchDB;\n\nexport const addPouchDBPlugin = (StaticPouchDB:any, plugin:any, description?:string) => {\n  let text:string = description || \"unknown\";\n  console.log(`addPouchDBPLugin(): Attempting to add plugin '${text}':`, plugin);\n  if(StaticPouchDB && typeof StaticPouchDB.plugin === 'function') {\n    if(plugin) {\n      if(plugin.default != undefined) {\n        StaticPouchDB.plugin(plugin.default);\n      } else {\n        StaticPouchDB.plugin(plugin);\n      }\n    } else {\n      console.warn(`addPouchDBPlugin(): This plugin did not exist:`, plugin);\n      return;\n    }\n  } else {\n    console.warn(`addPouchDBPlugin(): The provided static PouchDB object was not correct:`, StaticPouchDB);\n    return;\n  }\n};\n\nclass PouchDBOnSite {\n  constructor() {\n    this.initialize();\n    return this;\n  }\n  public initialize() {\n    if(typeof window !== 'undefined') {\n      window['pouchdbonsite']      = this;\n      window['PouchDBOnSiteClass'] = PouchDBOnSite;\n    }\n    addPouchDBPlugin(PouchDB , PDBReplication  , \"pouchdb-replication\");\n    addPouchDBPlugin(PouchDB , PDBAuth         , \"pouchdb-authentication\");\n    addPouchDBPlugin(PouchDB , pdbFind         , \"pouchdb-find\");\n    addPouchDBPlugin(PouchDB , pdbUpsert       , \"pouchdb-upsert\");\n    addPouchDBPlugin(PouchDB , pdbLevelDB      , \"pouchdb-adapter-leveldb\");\n    addPouchDBPlugin(PouchDB , nodeWebsqlPouch , \"pouchdb-adapter-node-websql\");\n    addPouchDBPlugin(PouchDB , websqlPouch     , \"pouchdb-adapter-websql\");\n    addPouchDBPlugin(PouchDB , PDBHttp         , \"pouchdb-adapter-http\");\n    addPouchDBPlugin(PouchDB , PDBIDB          , \"pouchdb-adapter-idb\");\n    addPouchDBPlugin(PouchDB , pdbDebug        , \"pouchdb-debug\");\n  }\n}\n\n\nexport {PouchDBOnSite};"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA,AA8CA;AAEA,IAAa,gBAAgB,GAAG,UAAC,aAAiB,EAAE,MAAU,EAAE,WAAmB;IACjF,IAAI,IAAI,GAAU,WAAW,IAAI,SAAS,CAAC;IAC3C,OAAO,CAAC,GAAG,CAAC,mDAAiD,IAAI,OAAI,EAAE,MAAM,CAAC,CAAC;IAC/E,IAAG,aAAa,IAAI,OAAO,aAAa,CAAC,MAAM,KAAK,UAAU,EAAE;QAC9D,IAAG,MAAM,EAAE;YACT,IAAG,MAAM,CAAC,OAAO,IAAI,SAAS,EAAE;gBAC9B,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;aACtC;iBAAM;gBACL,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;aAC9B;SACF;aAAM;YACL,OAAO,CAAC,IAAI,CAAC,gDAAgD,EAAE,MAAM,CAAC,CAAC;YACvE,OAAO;SACR;KACF;SAAM;QACL,OAAO,CAAC,IAAI,CAAC,yEAAyE,EAAE,aAAa,CAAC,CAAC;QACvG,OAAO;KACR;CACF,CAAC;AAEF;IACE;QACE,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,OAAO,IAAI,CAAC;KACb;IACM,kCAAU,GAAjB;QACE,IAAG,OAAO,MAAM,KAAK,WAAW,EAAE;YAChC,MAAM,CAAC,eAAe,CAAC,GAAQ,IAAI,CAAC;YACpC,MAAM,CAAC,oBAAoB,CAAC,GAAG,aAAa,CAAC;SAC9C;QACD,gBAAgB,CAAC,OAAO,EAAG,cAAc,EAAI,qBAAqB,CAAC,CAAC;QACpE,gBAAgB,CAAC,OAAO,EAAG,OAAO,EAAW,wBAAwB,CAAC,CAAC;QACvE,gBAAgB,CAAC,OAAO,EAAG,OAAO,EAAW,cAAc,CAAC,CAAC;QAC7D,gBAAgB,CAAC,OAAO,EAAG,SAAS,EAAS,gBAAgB,CAAC,CAAC;QAC/D,gBAAgB,CAAC,OAAO,EAAG,UAAU,EAAQ,yBAAyB,CAAC,CAAC;QACxE,gBAAgB,CAAC,OAAO,EAAG,eAAe,EAAG,6BAA6B,CAAC,CAAC;QAC5E,gBAAgB,CAAC,OAAO,EAAG,WAAW,EAAO,wBAAwB,CAAC,CAAC;QACvE,gBAAgB,CAAC,OAAO,EAAG,OAAO,EAAW,sBAAsB,CAAC,CAAC;QACrE,gBAAgB,CAAC,OAAO,EAAG,MAAM,EAAY,qBAAqB,CAAC,CAAC;QACpE,gBAAgB,CAAC,OAAO,EAAG,QAAQ,EAAU,eAAe,CAAC,CAAC;KAC/D;IACH,oBAAC;CAAA;;;;"}